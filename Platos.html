<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mejores Valorados - Cocinando Juntos</title>
    <link rel="stylesheet" href="./platos.css">
</head>
<body>
    <!--MENU NAVEGACIÓN-->
    <nav>
        <a href="./US1_PantallaInicio/index.html" class="logo">
            <img src="./US1_PantallaInicio/Imagenes/logo-cocinando-juntos.png" alt="Logo Cocinando Juntos">
        </a>
        <input type="text" class="search-bar" placeholder="Buscar recetas...">
        
        <div id="user-info" class="user-info" style="display: none;">
            <img src="./US1_PantallaInicio/Imagenes/blank-profile-picture-973460_1280.webp" alt="User Icon" class="user-icon">
            <span id="user-name">Nombre del Usuario</span>
            <a href="#" id="logout-btn" class="auth-buttons">Cerrar Sesión</a>
        </div>

        <a href="./login.html" id="auth-button" class="auth-buttons">Registrarse / Iniciar Sesión</a>
        <div class="menu-icon">☰</div>
    </nav>    

    <main>
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <a href="./US1_PantallaInicio/index.html">Inicio</a> > 
            <span>Mejores Valorados</span>
        </div>

        <!-- Título de la cultura -->
        <div class="culture-header">
            <h1>Mejores Valorados</h1>
            <div class="culture-description">
                <p>Descubre las mejores valoraciones de la semana</p>
            </div>
        </div>

        <!-- Filtros -->
        <div class="filters">
            <div class="filter-group">
                <button class="filter-button active" onclick="window.location.href='./Platos.html'">Mejor Valoradas</button>
            </div>            
            <div class="filter-group">
                <button class="filter-button" id="filter-btn">Filtros</button>
            </div>
        </div>

        <!-- Cuadro emergente de filtros -->
        <div id="filter-options" style="display: none;">
            <label for="filter-culture">Cultura:</label>
            <select id="filter-culture">
                <option value="">Todas</option>
                <option value="Española">Española</option>
                <option value="Italiana">Italiana</option>
                <option value="Francesa">Francesa</option>
                <option value="China">China</option>
                <option value="Japonesa">Japonesa</option>
                <option value="Venezolana">Venezolana</option>
            </select>
    
            <label for="filter-time">Tiempo:</label>
            <select id="filter-time">
                <option value="">Cualquier tiempo</option>
                <option value="0-30">Menos de 30 min</option>
                <option value="30-60">30 - 60 min</option>
                <option value="60-120">60 - 120 min</option>
                <option value="121">Más de 120 min</option>
            </select>
    
            <label for="filter-difficulty">Dificultad:</label>
            <select id="filter-difficulty">
                <option value="">Cualquier dificultad</option>
                <option value="Fácil">Fácil</option>
                <option value="Media">Media</option>
                <option value="Difícil">Difícil</option>
            </select>
    
            <button id="apply-filters">Filtrar</button>
        </div>

        <!-- Grid de recetas -->
        <div class="recipes-grid">
            <div class="recipe-card" data-culture="China" data-time="45" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/China/pollo-agridulce.jpg" alt="Pollo Agridulce">
                </div>
                <h3>Pollo Agridulce</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">45 min</span>
                    <span class="category">Comida</span>
                </div>
            </div>
        
            <div class="recipe-card" data-culture="Española" data-time="10" data-difficulty="Fácil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/España/pan-tomate.jpg" alt="pan-tomate">
                </div>
                <h3>Pan con tomate, jamón y aceite</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Fácil</span>
                    <span class="time">10 min</span>
                    <span class="category">Desayuno</span>
                </div>
            </div>
        
            <div class="recipe-card" data-culture="Italiana" data-time="120" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Italia/bizcocho-capuccino.jpg" alt="bizcocho-capuccino">
                </div>
                <h3>Bizcocho de capuchino</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">1h 30 min</span>
                    <span class="category">Desayuno</span>
                </div>
            </div>
        
            <div class="recipe-card" data-culture="Francesa" data-time="20" data-difficulty="Fácil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Francia/tostada-francesa.jpg" alt="tostada-francesa">
                </div>
                <h3>Tostadas Francesas</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Fácil</span>
                    <span class="time">20 min</span>
                    <span class="category">Desayuno</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="China" data-time="121" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/China/bollitos-chinos.jpg" alt="bollitos-chinos">
                </div>
                <h3>Bollitos Chinos</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">3h</span>
                    <span class="category">Desayuno</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Japonesa" data-time="25" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Japon/tamagoyaki.jpg" alt="tamagoyaki">
                </div>
                <h3>Tamagoyaki</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">25 min</span>
                    <span class="category">Desayuno</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Venezolana" data-time="35" data-difficulty="Fácil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Venezuela/arepa-venezolana.jpg" alt="arepa-venezolana">
                </div>
                <h3>Arepa</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Fácil</span>
                    <span class="time">35 min</span>
                    <span class="category">Desayuno</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Española" data-time="121" data-difficulty="Difícil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/España/paella.png" alt="paella">
                </div>
                <h3>Paella</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">2h</span>
                    <span class="category">Comida</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Italiana" data-time="121" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Italia/lasaña.jpg" alt="lasaña">
                </div>
                <h3>Lasaña</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">3h</span>
                    <span class="category">Comida</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Francesa" data-time="121" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Francia/coq-au-vin.jpg" alt="coq-au-vin">
                </div>
                <h3>Coq au vin</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">2h 45 min</span>
                    <span class="category">Comida</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Japonesa" data-time="121" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Japon/ramen.jpg" alt="ramen">
                </div>
                <h3>ramen</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">2h</span>
                    <span class="category">Comida</span>
                </div>
            </div>
            
            <div class="recipe-card" data-culture="Venezolana" data-time="121" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Venezuela/criollo-venezolano.jpg" alt="criollo-venezolano">
                </div>
                <h3>Criollo Venezolano</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">2h 30 min</span>
                    <span class="category">Comida</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Española" data-time="60" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/España/churros-chocolate.jpg" alt="churros-chocolate">
                </div>
                <h3>Churros con chocolate</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">60 min</span>
                    <span class="category">Merienda</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Italiana" data-time="121" data-difficulty="Difícil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Italia/cannoli.png" alt="cannoli">
                </div>
                <h3>Cannoli</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Difícil</span>
                    <span class="time">2h 45 min</span>
                    <span class="category">Merienda</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Francesa" data-time="30" data-difficulty="Fácil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Francia/crepas-dulces.jpg" alt="crepas-dulces">
                </div>
                <h3>Crepas dulces</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Fácil</span>
                    <span class="time">30 min</span>
                    <span class="category">Merienda</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="China" data-time="45" data-difficulty="Fácil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/China/galletas-de-sesamo.jpg" alt="galletas-de-sesamo">
                </div>
                <h3>Galletas de sésamo</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Fácil</span>
                    <span class="time">45 min</span>
                    <span class="category">Merienda</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Japonesa" data-time="30" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Japon/dorayaki.jpg" alt="dorayaki">
                </div>
                <h3>Dorayaki</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">30 min</span>
                    <span class="category">Merienda</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Venezolana" data-time="121" data-difficulty="Difícil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Venezuela/Golfeados-venezolanos.png" alt="Golfeados-venezolanos">
                </div>
                <h3>Golfeados</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Difícil</span>
                    <span class="time">3h</span>
                    <span class="category">Merienda</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Española" data-time="45" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/España/tortilla-patatas.jpeg" alt="tortilla-patatas">
                </div>
                <h3>Tortilla de patatas</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">45 min</span>
                    <span class="category">Cena</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Italiana" data-time="121" data-difficulty="Fácil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Italia/pizza-margarita.jpg" alt="pizza-margarita">
                </div>
                <h3>Pizza margarita</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Fácil</span>
                    <span class="time">2h</span>
                    <span class="category">Cena</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Francesa" data-time="121" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Francia/quiche-lorraine.pn.webp" alt="quiche-lorraine">
                </div>
                <h3>Quiche Lorraine</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">2h</span>
                    <span class="category">Cena</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="China" data-time="45" data-difficulty="Fácil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/China/fideos-salteados.jpg" alt="fideos-salteados">
                </div>
                <h3>Fideos salteados</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Fácil</span>
                    <span class="time">45 min</span>
                    <span class="category">Cena</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Japonesa" data-time="121" data-difficulty="Media">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Japon/sushi.jpeg" alt="sushi">
                </div>
                <h3>Sushi</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Media</span>
                    <span class="time">2h</span>
                    <span class="category">Cena</span>
                </div>
            </div>

            <div class="recipe-card" data-culture="Venezolana" data-time="25" data-difficulty="Fácil">
                <div class="recipe-image">
                    <img src="./US1_PantallaInicio/Imagenes/Venezuela/cachapa-venezolana.jpg" alt="cachapa-venezolana">
                </div>
                <h3>Cachapa</h3>
                <div class="recipe-meta">
                    <span class="difficulty">Fácil</span>
                    <span class="time">25 min</span>
                    <span class="category">Cena</span>
                </div>
            </div>
        </div> <!-- Cierre correcto del grid -->
        
    </main>

    <footer>
        <p>© 2025 Cocinando Juntos - Todos los derechos reservados</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const filterBtn = document.getElementById("filter-btn");
            const filterOptions = document.getElementById("filter-options");
            const applyFilterBtn = document.getElementById("apply-filters");
    
            // Mostrar/ocultar el cuadro de filtros
            filterBtn.addEventListener("click", () => {
                filterOptions.style.display = filterOptions.style.display === "block" ? "none" : "block";
            });
    
            // Filtrar recetas
            applyFilterBtn.addEventListener("click", () => {
                const selectedCulture = document.getElementById("filter-culture").value;
                const selectedTime = document.getElementById("filter-time").value;
                const selectedDifficulty = document.getElementById("filter-difficulty").value;
                const recipes = document.querySelectorAll(".recipe-card");
    
                recipes.forEach(recipe => {
                    const recipeCulture = recipe.getAttribute("data-culture");
                    const recipeTime = parseInt(recipe.getAttribute("data-time"));
                    const recipeDifficulty = recipe.getAttribute("data-difficulty");
    
                    const matchesCulture = !selectedCulture || selectedCulture === recipeCulture;
                    const matchesDifficulty = !selectedDifficulty || selectedDifficulty === recipeDifficulty;
                    let matchesTime = false;
    
                    if (selectedTime === "" || 
                        (selectedTime === "0-30" && recipeTime <= 30) ||
                        (selectedTime === "30-60" && recipeTime > 30 && recipeTime <= 60) ||
                        (selectedTime === "60-120" && recipeTime > 60 && recipeTime <= 120) ||
                        (selectedTime === "121" && recipeTime > 120)) {
                        matchesTime = true;
                    }
    
                    if (matchesCulture && matchesDifficulty && matchesTime) {
                        recipe.style.display = "inline-block";
                    } else {
                        recipe.style.display = "none";
                    }
                });
    
                // Ocultar el cuadro de filtros después de aplicar
                filterOptions.style.display = "none";
            });
    
            // Cerrar el cuadro si se hace clic fuera de él
            document.addEventListener("click", (event) => {
                if (!filterOptions.contains(event.target) && event.target !== filterBtn) {
                    filterOptions.style.display = "none";
                }
            });
        });

        // Obtener el usuario desde localStorage
        const usuario = JSON.parse(localStorage.getItem("usuario"));
        const userInfo = document.getElementById("user-info");
        const authButton = document.getElementById("auth-button");
        
        // Si el usuario está registrado en localStorage
        if (usuario) {
            // Mostrar la información del usuario
            userInfo.style.display = "flex";
            document.getElementById("user-name").textContent = usuario.username;
            authButton.style.display = "none";
            
            // Agregar funcionalidad de cerrar sesión
            document.getElementById("logout-btn").addEventListener("click", (e) => {
                e.preventDefault();
                localStorage.removeItem("usuario");
                window.location.reload();
            });
        } else {
            // Si no hay usuario, mostrar el botón de login
            userInfo.style.display = "none";
            authButton.style.display = "block";
        }
    </script>
</body>
</html>
