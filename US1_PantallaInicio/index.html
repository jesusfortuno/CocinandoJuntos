<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Home - Cocinando Juntos</title>
        <link rel="stylesheet" href="styles.css">
        <script src="index.js"></script>
    </head>
<body>
    <nav>
        <a href="../US1_PantallaInicio/index.html" class="logo">
            <img src="../US1_PantallaInicio/Imagenes/logo-cocinando-juntos.png" alt="Logo Cocinando Juntos">
        </a>

        <input type="text" class="search-bar" placeholder="Buscar recetas...">
     
        <div id="user-info" class="user-info" style="display: none;">
            <img src="../US1_PantallaInicio/Imagenes/blank-profile-picture-973460_1280.webp" alt="User Icon" class="user-icon">
            <a href="../US7_PaginaDeUsuario/usuario.html" style="text-decoration: none;"><span id="user-name">Nombre del Usuario</span></a>
            <a href="#" id="logout-btn" class="auth-buttons">Cerrar Sesión</a>
        </div>

        <a href="../login.html" id="auth-button" class="auth-buttons">Iniciar Sesión</a>

        <div class="menu-icon" id="menuToggle">☰</div>
    </nav>

    <!-- El menú desplegable debe estar aquí, fuera del nav -->
    <div class="overlay-menu" id="overlayMenu">
        <div class="overlay-content">
            <div class="close-btn" id="closeMenu">×</div>
            <div class="menu-section">
                <h3>Culturas Gastronómicas</h3>
                <ul>
                    <li><a href="cultura-china.html">China</a></li>
                    <li><a href="cultura-española.html">Española</a></li>
                    <li><a href="cultura-francesa.html">Francesa</a></li>
                    <li><a href="cultura-italiana.html">Italiana</a></li>
                    <li><a href="cultura-japonesa.html">Japonesa</a></li>
                    <li><a href="cultura-venezolana.html">Venezolana</a></li>
                </ul>
            </div>
            <div class="menu-section">
                <h3>Tiempo de Preparación</h3>
                <ul>
                    <li><a href="#rapidas">15 minutos</a></li>
                    <li><a href="#medio">30 minutos</a></li>
                    <li><a href="#elaboradas">1 hora o más</a></li>
                </ul>
            </div>
            <div class="menu-section">
                <h3>Tipo de Plato</h3>
                <ul>
                    <li><a href="#entrantes">Entrantes</a></li>
                    <li><a href="#principales">Platos Principales</a></li>
                    <li><a href="#postres">Postres</a></li>
                </ul>
            </div>
            <div class="menu-section">
                <h3>Dificultad de la Receta</h3>
                <ul>
                    <li><a href="../US12_MenuNavegacion/dificultad-facil.html">Fácil</a></li>
                    <li><a href="../US12_MenuNavegacion/dificultad-media.html">Media</a></li>
                    <li><a href="../US12_MenuNavegacion/dificultad-dificil.html">Difícil</a></li>
                </ul>
            </div>
        </div>
    </div>

    <main>
        <section class="featured-dishes">
            <h2>Platos Destacados</h2>
            <div class="slider-container">
                <div class="slider">
                    <div class="slide">
                        <div class="slide-card">
                            <img src="./Imagenes/China/galletas-de-sesamo.jpg" alt="Galletas de Sésamo">
                            <h3>Galletas de Sésamo</h3>
                        </div>
                        <div class="slide-card">
                            <a href="./../US6_GuardarRecetas/pollo-agridulce.html">
                            <img src="./Imagenes/China/pollo-agridulce.jpg" alt="Pollo Agridulce">
                            <h3>Pollo Agridulce</h3>
                            </a>
                        </div>
                        <div class="slide-card">
                            <img src="./Imagenes/España/tortilla-patatas.jpeg" alt="Tortilla de Patatas">
                            <h3>Tortilla de Patatas</h3>
                        </div>
                    </div>
                    <div class="slide">
                        <div class="slide-card">
                            <img src="./Imagenes/España/pan-tomate.jpg" alt="Pan con Tomate">
                            <h3>Pan con Tomate</h3>
                        </div>
                        <div class="slide-card">
                            <img src="./Imagenes/Francia/coq-au-vin.jpg" alt="Coq au Vin">
                            <h3>Coq au Vin</h3>
                        </div>
                        <div class="slide-card">
                            <img src="./Imagenes/Francia/crepas-dulces.jpg" alt="Crepas Dulces">
                            <h3>Crepas Dulces</h3>
                        </div>
                    </div>
                    <div class="slide">
                        <div class="slide-card">
                            <img src="./Imagenes/Italia/pizza-margarita.jpg" alt="Pizza Margarita">
                            <h3>Pizza Margarita</h3>
                        </div>
                        <div class="slide-card">
                            <img src="./Imagenes/Italia/lasaña.jpg" alt="Lasaña">
                            <h3>Lasaña</h3>
                        </div>
                        <div class="slide-card">
                            <img src="./Imagenes/Japon/sushi.jpeg" alt="Sushi">
                            <h3>Sushi</h3>
                        </div>
                    </div>
                    <div class="slide">
                        <div class="slide-card">
                            <img src="./Imagenes/Japon/ramen.jpg" alt="Ramen">
                            <h3>Ramen</h3>
                        </div>
                        <div class="slide-card">
                            <img src="./Imagenes/Venezuela/arepa-venezolana.jpg" alt="Arepa Venezolana">
                            <h3>Arepa Venezolana</h3>
                        </div>
                        <div class="slide-card">
                            <img src="./Imagenes/Venezuela/cachapa-venezolana.jpg" alt="Cachapa Venezolana">
                            <h3>Cachapa Venezolana</h3>
                        </div>
                    </div>
                </div>
                <div class="slider-buttons">
                    <button class="slider-button" onclick="moveSlide(-1)">❮</button>
                    <button class="slider-button" onclick="moveSlide(1)">❯</button>
                </div>
                <div class="dots-container"></div>
            </div>
        </section>
        <section class="culture-dishes">
            <h2>Platos por Cultura</h2>
            <div class="culture-grid">
                <a href="cultura-china.html" class="culture-card">
                    <img src="./Imagenes/China/pollo-agridulce.jpg" alt="Cocina China">
                    <h3>China</h3>
                </a>
                <a href="cultura-española.html" class="culture-card">
                    <img src="./Imagenes/España/tortilla-patatas.jpeg" alt="Cocina Española">
                    <h3>España</h3>
                </a>
                <a href="cultura-francesa.html" class="culture-card">
                    <img src="./Imagenes/Francia/coq-au-vin.jpg" alt="Cocina Francesa">
                    <h3>Francia</h3>
                </a>
                <a href="cultura-italiana.html" class="culture-card">
                    <img src="./Imagenes/Italia/pizza-margarita.jpg" alt="Cocina Italiana">
                    <h3>Italia</h3>
                </a>
                <a href="cultura-japonesa.html" class="culture-card">
                    <img src="./Imagenes/Japon/sushi.jpeg" alt="Cocina Japonesa">
                    <h3>Japón</h3>
                </a>
                <a href="cultura-venezolana.html" class="culture-card">
                    <img src="./Imagenes/Venezuela/arepa-venezolana.jpg" alt="Cocina Venezolana">
                    <h3>Venezuela</h3>
                </a>
            </div>
        </section>

        <section class="recipe-filters">
            <h2>Explorar Recetas</h2>
            <!-- Aquí irán los filtros de recetas -->
        </section>
    </main>

    <footer>
        <p>© 2025 Cocinando Juntos - Todos los derechos reservados</p>
    </footer> 

    <script>
        // Obtener el usuario desde localStorage
        const usuario = JSON.parse(localStorage.getItem("usuario"));
        const userInfo = document.getElementById("user-info");
        const authButton = document.getElementById("auth-button");
        
        console.log("Datos del usuario:", usuario); // Para depuración
    
        // Si el usuario está registrado en localStorage
        if (usuario) {
            // Mostrar la información del usuario
            userInfo.style.display = "flex";
            document.getElementById("user-name").textContent = usuario.username || "Usuario";
            authButton.style.display = "none";
            
            // Agregar funcionalidad de cerrar sesión
            document.getElementById("logout-btn").addEventListener("click", (e) => {
                e.preventDefault();
                localStorage.removeItem("usuario");
                window.location.reload();
            });
        } else {
            // Si no hay usuario, mostrar el botón de login
            userInfo.style.display = "none";
            authButton.style.display = "block";
        }
        // Código JavaScript directamente en el HTML para asegurar el orden correcto
        document.addEventListener('DOMContentLoaded', () => {
            // Menú desplegable
            document.getElementById('menuToggle').addEventListener('click', function(e) {
                e.preventDefault();
                const overlayMenu = document.getElementById('overlayMenu');
                overlayMenu.classList.toggle('active');
            });

            document.getElementById('closeMenu').addEventListener('click', function() {
                const overlayMenu = document.getElementById('overlayMenu');
                overlayMenu.classList.remove('active');
            });

            // Cerrar al hacer clic fuera del menú
            document.getElementById('overlayMenu').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });
    </script>
    <script src="index.js"></script>
</body>
</html>
